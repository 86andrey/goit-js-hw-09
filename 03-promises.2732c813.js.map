{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAaC,SAASC,cAAc,SACpCC,EAAQF,SAASC,cAAc,qBAC/BE,EAAOH,SAASC,cAAc,oBAC9BG,EAASJ,SAASC,cAAc,sBAChCI,EAAML,SAASC,cAAc,UA4CnC,SAASK,EAAgBC,GAEvBV,EAAAW,OAAOC,QAAQF,GAEjB,SAASG,EAAeC,GAEtBd,EAAAW,OAAOI,QAAQD,GAhDjBZ,EAAWc,iBAAiB,UAE5B,SAAsBC,GACpBA,EAAMC,iBACNV,EAAIW,UAAW,EACf,IAAMC,EAAYC,OAAOf,EAAKgB,OAC1BC,EAAW,EACXC,EAAaH,OAAOhB,EAAMiB,OAC1BG,EAAaJ,OAAOhB,EAAMiB,OAExBI,EAAaC,aAAY,WAC7BJ,GAAY,EAERhB,EAAOe,MAAQC,EACjBK,cAAcF,IAcpB,SAAuBH,EAAUM,EAAOJ,GACtC,IAAMK,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,SAACC,EAASC,GAC3BC,YAAW,WACLN,EACFI,EAAS,uBAAuCG,OAAfd,EAAS,QAAYc,OAANR,EAAM,OAEpDM,EAAM,sBAAoCE,OAAfd,EAAS,QAAYc,OAANR,EAAM,SAEnDJ,MApBHa,CAAcf,EAAUC,EAAYC,GACjCc,KAAK9B,GACL+B,MAAM3B,GACTW,GAAcJ,KACbA,GACHgB,YAAW,WACT5B,EAAIW,UAAW,IACd","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst formSubmit = document.querySelector('.form');\nconst delay = document.querySelector('input[name=delay]');\nconst step = document.querySelector('input[name=step]');\nconst amount = document.querySelector('input[name=amount]');\nconst btn = document.querySelector('button');\n\nformSubmit.addEventListener('submit', onSubmitForm);\n\nfunction onSubmitForm(event) {\n  event.preventDefault();\n  btn.disabled = true;\n  const delayStep = Number(step.value);\n  let position = 0;\n  let delayValue = Number(delay.value);\n  let firstDelay = Number(delay.value);\n\n  const intervalId = setInterval(() => {\n    position += 1;\n\n    if (amount.value < position) {\n      clearInterval(intervalId);\n      return;\n    }\n\n    createPromise(position, delayValue, firstDelay)\n      .then(onMakeFulfilled)\n      .catch(onMakeRejected);\n    delayValue += delayStep;\n  }, delayStep);\n  setTimeout(() => {\n    btn.disabled = false;\n  }, 5000);\n}\n\nfunction createPromise(position, delay, firstDelay) {\n  const shouldResolve = Math.random() > 0.3;\n\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve(`✅ Fulfilled promise ${position} in ${delay}ms`);\n      } else {\n        reject(`❌ Rejected promise ${position} in ${delay}ms`);\n      }\n    }, firstDelay);\n  });\n}\n\nfunction onMakeFulfilled(result) {\n  // console.log(result);\n  Notify.success(result);\n}\nfunction onMakeRejected(error) {\n  // console.log(error);\n  Notify.failure(error);\n}\n"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$formSubmit","document","querySelector","$ce04d3a99e08e73b$var$delay","$ce04d3a99e08e73b$var$step","$ce04d3a99e08e73b$var$amount","$ce04d3a99e08e73b$var$btn","$ce04d3a99e08e73b$var$onMakeFulfilled","result","Notify","success","$ce04d3a99e08e73b$var$onMakeRejected","error","failure","addEventListener","event","preventDefault","disabled","delayStep","Number","value","position","delayValue","firstDelay","intervalId","setInterval","clearInterval","delay1","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","concat","$ce04d3a99e08e73b$var$createPromise","then","catch"],"version":3,"file":"03-promises.2732c813.js.map"}